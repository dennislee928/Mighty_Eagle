<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>TrustTrace</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 12px; width: 360px; }
      h1 { font-size: 16px; margin: 0 0 8px; }
      .row { margin: 8px 0; }
      textarea, input, select { width: 100%; box-sizing: border-box; }
      button { width: 100%; padding: 8px; }
      .small { font-size: 12px; color: #666; }
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: 12px; word-break: break-all; }
      .card { border: 1px solid #ddd; border-radius: 8px; padding: 8px; margin-top: 8px; }
    </style>
  </head>
  <body>
    <h1>TrustTrace MVP</h1>
    <div class="small">Local-only encrypted vault. Export daily commitments; submit via dApp.</div>

    <div class="card">
      <div class="row">
        <label>Event type</label>
        <select id="eventType">
          <option value="NOTE">NOTE</option>
          <option value="CONSENT">CONSENT</option>
          <option value="ACTION_LOG">ACTION_LOG</option>
        </select>
      </div>

      <div class="row">
        <label>Text</label>
        <textarea id="eventText" rows="4" placeholder="Do not include other people's identity info."></textarea>
      </div>

      <div class="row">
        <button id="addEvent">Add event</button>
      </div>
    </div>

    <div class="card">
      <div class="row">
        <button id="buildRollup">Build daily rollup</button>
      </div>
      <div class="row small">Root (today):</div>
      <div class="row mono" id="rootOut">â€”</div>
      <div class="row">
        <button id="exportCommitment">Export commitment.json</button>
      </div>
      <div class="row">
        <button id="exportAppeal">Export appeal package (.zip)</button>
      </div>
    </div>

    <div class="card">
      <div class="row small">Recent events (decrypted preview):</div>
      <div id="eventsOut" class="small"></div>
    </div>

    <script type="module" src="popup.js"></script>
  </body>
</html>
